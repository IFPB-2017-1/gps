<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/layout.xhtml">
	<ui:define name="title">Defesas</ui:define>

	<ui:define name="body">
		<p:panel header="Cadastro de Defesa" id="painelCadastro">
			<h:form>

				<p:panelGrid columns="3" styleClass="bordernone table-hover">
					<h:outputLabel value="Agendar defesa para:" />
					<h:outputText id="tcc"
						value="#{incluirEditarDefesaBean.defesa.tcc.titulo} de #{incluirEditarDefesaBean.defesa.tcc.discente.usuario.nome}" />
					<h:message for="tcc" />

					<h:outputLabel value="Local:" />
					<p:inputText id="local"
						value="#{incluirEditarDefesaBean.defesa.local}" />
					<h:message for="local" />

					<h:outputLabel value="Data:" />
					<p:calendar id="data" showOn="button"
						value="#{incluirEditarDefesaBean.defesa.data}" />
					<h:message for="data" />

					<h:outputLabel value="Hora inicio:" />
					<p:inputMask mask="99:99" id="horaI"
						value="#{incluirEditarDefesaBean.defesa.horaInicio}" />
					<h:message for="horaI" />

					<h:outputLabel value="Hora fim:" />
					<p:inputMask mask="99:99" id="horaF"
						value="#{incluirEditarDefesaBean.defesa.horaFim}" />
					<h:message for="horaF" />

					<p:outputLabel value="Banca:" />
					<h:panelGroup>
						<p:commandButton 
							value="Pesquisar" style="margin: 3px" update="painelCadastro"
							actionListener="#{incluirEditarDefesaBean.pesquisar}" />
					</h:panelGroup>

				</p:panelGrid>


				<p:pickList id="DocenteList"
					value="#{incluirEditarDefesaBean.docentes}" var="docente"
					effect="bounce" itemValue="#{docente}" converter="PickListConverter"
					itemLabel="#{docente.usuario.nome}" showSourceControls="false"
					showCheckbox="true" responsive="true" showSourceFilter="true"
					filterMatchMode="contains">

					<f:facet name="sourceCaption">Docentes dispon√≠veis</f:facet>
					<f:facet name="targetCaption">Selecionados</f:facet>


				</p:pickList>

				<p:commandButton id="salvarDefesa" value="Salvar Defesa"
					action="#{incluirEditarDefesaBean.salvarDefesa}"
					style="margin-top:5px; margin-left:60%" 
					ajax="false" />


			</h:form>
		</p:panel>
	</ui:define>
</ui:composition>
</html>
